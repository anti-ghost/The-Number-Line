<!DOCTYPE html>
<html lang="en">
  <!--
    The Number Line v1.0.0
    Copyright © 2022 resu deteleD
    Licensed under the MIT License 
  -->
  <head>
    <meta charset="utf-8" />
    <title>The Number Line</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="/images/ghost.jpg" />
    <script 
      src="https://cdn.jsdelivr.net/npm/vue/dist/vue.global.js"
      defer
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.6.1.js"
      defer
    ></script>
    <script src="decimal.js" defer></script>
    <script src="script.js" defer></script>
  </head>
  <body>
    <div id="app" style="display: none;">
      <h1>Number: {{format(game.number)}}</h1>
      <p>Your number is increasing by {{format(getNumberRate())}} per second</p>
      <p>
        <button @click="tab = 0" class="tabButton">
          Compressors
        </button>
        <button @click="tab = 1" class="tabButton">
          Options
        </button>
        <button @click="tab = 2" class="tabButton">
          Statistics
        </button>
        <button @click="tab = 3" v-if="game.exponentUnlocked" class="tabButton exponentButton">
          Exponents
        </button>
      </p>
      <div v-if="tab == 0">
        <table>
          <tbody>
            <tr>
              <td>
                <button @click="compress(1)" class="compressButton">
                  Compress the number line by 2x<br />
                  Cost: {{format(getCompressCost(1))}}
                </button>
              </td>
              <td>
                <button @click="compress(2)" class="compressButton">
                  Compress the number line by 2x<br />
                  Cost: {{format(getCompressCost(2))}}
                </button>
              </td>
            </tr>
            <tr>
              <td>
                <button @click="compress(3)" class="compressButton">
                  Compress the number line by 2x<br />
                  Cost: {{format(getCompressCost(3))}}
                </button>
              </td>
              <td>
                <button @click="compress(4)" class="compressButton">
                  Compress the number line by 2x<br />
                  Cost: {{format(getCompressCost(4))}}
                </button>
              </td>
            </tr>
            <tr>
              <td>
                <button @click="compress(5)" class="compressButton">
                  Compress the number line by 2x<br />
                  Cost: {{format(getCompressCost(5))}}
                </button>
              </td>
              <td>
                <button @click="compress(6)" class="compressButton">
                  Compress the number line by 2x<br />
                  Cost: {{format(getCompressCost(6))}}
                </button>
              </td>
            </tr>
            <tr>
              <td>
                <button @click="compress(7)" class="compressButton">
                  Compress the number line by 2x<br />
                  Cost: {{format(getCompressCost(7))}}
                </button>
              </td>
              <td>
                <button @click="compress(8)" class="compressButton">
                  Compress the number line by 2x<br />
                  Cost: {{format(getCompressCost(8))}}
                </button>
              </td>
            </tr>
            <tr>
              <td>
                <button @click="compress(9)" class="compressButton">
                  Compress the number line by 2x<br />
                  Cost: {{format(getCompressCost(9))}}
                </button>
              </td>
              <td>
                <button @click="compress(10)" class="compressButton">
                  Compress the number line by 2x<br />
                  Cost: {{format(getCompressCost(10))}}
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div v-if="tab == 1">
        <table>
          <tbody>
            <tr>
              <td><button @click="save()" class="optionsButton">Save your game</button></td>
              <td><button @click="importSave()" class="optionsButton">Import your save</button></td>
            </tr>
            <tr>
              <td><button @click="exportSave()" class="optionsButton">Export your save</button></td>
              <td><button @click="hardReset()" class="optionsButton">Reset your game</button></td>
            </tr>
          </tbody>
        </table>
        <p>
          <small>
            <i>
              The Number Line v1.0.0<br />
              © 2022 <a href="https://github.com/anti-ghost">resu deteleD</a><br />
              This work is licensed under the <a href="https://opensource.org/licenses/MIT">MIT License</a>
            </i>
          </small>
        </p>
      </div>
      <div v-if="tab == 2">
        <p>You have played for {{formatTime(timePlayed() / 1000)}}.</p>
        <p>Your highest number was {{format(game.highestNumber)}}.</p>
      </div>
      <div v-if="tab == 3">
        <h2>You have {{format(game.exponents)}} exponents</h2>
        <p>
          <button @click="exponentiate()" class="exponentiateButton prestigeButton">
            {{game.number.gte(1e12) ? "Exponentiate for " + format(getExponentGain()) + " exponents" : "Reach 1.000e12 to Exponentiate"}}
          </button>
        </p>
        <table>
          <tbody>
            <tr>
              <td>
                <button 
                  @click="upgrade(1)"
                  class="exponentiateButton upgradeButton" 
                  @class="game.upgrades.includes(1) ? 'bought' : canUpgrade(1) ? 'canBuy' : 'locked'"
                >
                  Number gain is boosted by the total number of Compressors<br />
                  Currently: x{{format(game.compressors.reduce((x, y) => x.add(y)).add(1))}}<br />
                  Cost: 1 Exponent
                </button>
              </td>
              <td>
                <button 
                  @click="upgrade(2)"
                  class="exponentiateButton upgradeButton" 
                  @class="game.upgrades.includes(2) ? 'bought' : canUpgrade(2) ? 'canBuy' : 'locked'"
                >
                  Unlock autobuyers for Compressors<br />
                  Cost: 1 Exponent
                </button>
              </td>
              <td>
                <button 
                  @click="upgrade(3)"
                  class="exponentiateButton upgradeButton" 
                  @class="game.upgrades.includes(3) ? 'bought' : canUpgrade(3) ? 'canBuy' : 'locked'"
                >
                  Number gain is boosted by Exponents<br />
                  Currently: x{{format(game.exponents.add(1).sqrt(), 3)}}<br />
                  Cost: 2 Exponents
                </button>
              </td>
              <td>
                <button class="exponentiateButton upgradeButton locked">
                  ???
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div id="fake" style="display: none;">
      <h1>It turns out someone is trying to steal the game!</h1>
      <p>
        Please go to <a href="https://anti-ghost.github.io/The-Number-Line/">https://anti-ghost.github.io/The-Number-Line/</a>.
      </p>
      <p>
        <small>
          <i>
            You are seeing this message because you are visiting a fake replica of The Number Line.
            These games are not trusted by <a href="https://github.com/anti-ghost">resu deteleD</a>,
            developer and publisher of The Number Line, and may contain malware and/or errors.
          </i>
        </small>
      </p>
      <p>
        <small>
          <i>
            If you are creating a legitimate spin-off of The Number Line, please remove this message from your game.
            You are required to attribute resu deteleD for all copies or substantial portions of The Number Line.
          </i>
        </small>
      </p>
    </div>
  </body>
</html>

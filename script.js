!function(e){"use strict";if("aHR0cHM6Ly9hbnRpLWdob3N0LmdpdGh1Yi5pbw=="!=btoa(location.origin)&&"aHR0cHM6Ly9yYXcuZ2l0aGFjay5jb20="!=btoa(location.origin)&&"aHR0cHM6Ly9yYXdjZG4uZ2l0aGFjay5jb20="!=btoa(location.origin))return void(document.getElementById("fake").style.display="");const t=!1,o="1.2.0",r=e.Vue,n=e.$,a=e.Decimal,s=r.reactive({}),u={debug:t,version:o,timeStarted:Date.now(),lastTick:Date.now(),offlineProg:!0,number:a(0),highestNumber:a(0),compressors:[a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0)],expUnlocked:!1,exponents:a(0),upgrades:[],autobuyers:[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],challenge:0,chalComp:[],chalConf:!0,expOnChal:!0,matter:a(0),matterEnabled:!1,matterUpgrades:[a(0),a(0),a(0)]},i=[a(1),a(2),a(3),a(10),a(20),a(50),a(500),a(1e4),a(1e6),a(1e7),a(1e8),a(1/0)],l=[a(1e12),a(1e20),a(1e16),a(1e18)],d=[a(1e5),a(1e3),a(1e9)],m=r.reactive({tab:0,expSubtab:0});let c=!1;function p(){c=!0,P(btoa(JSON.stringify(s))),alert("We have detected a NaN in your save! We have exported it to your clipboard (although it might be broken). Please report this save to the developers of The Number Line, so they can look into it.")}function f(e=s){for(const t in e){if("object"==typeof e[t]&&e[t]!==e&&f(e[t]))return!0;if(Number.isNaN(e[t]))return!0}return!1}function g(){return Date.now()-s.timeStarted}function b(e=1){let t=a.pow(v(),S().add(10*(!x(2)&&s.upgrades.includes(9))));return!x(2)&&s.upgrades.includes(1)&&(t=t.mul(S().add(1))),s.upgrades.includes(3)&&(t=t.mul(s.exponents.add(1).sqrt())),s.upgrades.includes(6)&&(t=t.mul(s.number.add(10).log10())),s.upgrades.includes(7)&&(t=t.mul(a.pow(g()/1e3,.2))),(t=t.mul(E())).mul(e)}function v(){let e=a(2);return x(1)&&(e=e.mul(2)),x(4)&&(e=e.div(2)),!x(2)&&s.upgrades.includes(5)&&(e=e.mul(1.1)),s.upgrades.includes(10)&&(e=e.mul(S().add(1).log10().add(10).log10())),s.upgrades.includes(11)&&(e=e.mul(E().log10().add(1).root(10))),e}function h(){let e=a(1);return s.chalComp.includes(1)&&(e=e.div(.9)),s.chalComp.includes(4)&&(e=e.mul(s.exponents.add(1).log10().add(10).log10())),e}function y(e){let t=s.compressors[e-1].add(1).mul(e).div(h());return x(1)&&(t=t.add(12)),t.gt(12)&&(t=a.pow10(t.div(12).sub(1)).mul(12).div(a.ln(10)).add(12).sub(a.div(12,a.ln(10)))),x(1)&&(t=t.sub(12)),x(3)&&(t=t.mul(a.pow(2,S().sub(s.compressors[e-1])))),s.chalComp.includes(3)&&(t=t.sub(s.matter.log10().div(5))),a.pow10(t)}function N(e){return s.number.gte(y(e))}function S(){return s.compressors.reduce((e,t)=>e.add(t))}function C(e=s.number){return e.root(12-2*s.chalComp.includes(2)).div(10).floor()}function w(e){return(1==e||s.upgrades.includes(e-1))&&s.exponents.gte(i[e-1])}function x(e){return s.challenge==e}function T(e=1){let t=b(e);return t=(t=t.div(E())).mul(a.pow(2,s.matterUpgrades[1]))}function E(e=s.matter){return e.add(10).log10().pow(s.matterUpgrades[0].add(10).log10()).mul(a.pow(1.2,s.matterUpgrades[2]))}function D(e){return d[e].pow(s.matterUpgrades[e]).mul(1e30)}function L(e,t=0){if((e=a(e)).isNaN())return p(),"NaN";if(-1==e.sign)return"-"+L(e.neg());if(e.eq(1/0))return"Infinity";if(0==e.sign)return"0";if(e.lt(1e3))return e.toNumber().toFixed(t);if(e.lt(1e6))return e.toNumber().toFixed(0);if(e.lt("e1e6")){let t=e.e,o=e.m;return"10.000"===L(o,3)&&(o=1,t++),L(o,3)+"e"+L(t)}return e.lt(a.tetrate(10,6))?"e"+L(e.log10()):"10^^"+L(e.slog())}function O(e){if(x(1)||x(3)||!s.number.lte(a.pow(1e12,h())))for(;N(e);)G(e);else{const t=a.affordGeometricSeries(s.number,a.pow10(h().mul(e)).div(s.chalComp.includes(3)?s.matter.root(5):1),a.pow10(h().mul(e)),s.compressors[e-1]),o=a.sumGeometricSeries(t,a.pow10(h().mul(e)).div(s.chalComp.includes(3)?s.matter.root(5):1),a.pow10(h().mul(e)),s.compressors[e-1]);s.compressors[e-1]=s.compressors[e-1].add(t),s.number=s.number.sub(o)}}function U(){s.number=a(0),s.compressors=[a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0),a(0)]}function G(e){N(e)&&(s.number=s.number.sub(y(e)),s.compressors[e-1]=s.compressors[e-1].add(1))}function I(e){if(!c&&f()&&p(),!c&&(s.matterEnabled?s.matter=s.matter.add(T(e)):s.number=s.number.add(b(e)),s.number.gt(s.highestNumber)&&(s.highestNumber=s.number),s.upgrades.includes(2)))for(let e=0;e<10;e++)s.autobuyers[e]&&O(e+1)}function R(e){if(!c){s.debug=t,s.version=o,s.lastTick=Date.now(),t&&(e*=W.speed);for(let t=0;t<10;t++)I(e/1e4);return Date.now()-s.lastTick}}function k(e=u){for(const t in e)s[t]=e[t]}function A(e){if(e.debug&&!t)return void n.notify("Import failed, attempted to load development save into the main game.","error");k();for(const t in e)s[t]=e[t];s.debug=t,s.version=o,function(){let e;for(s.number=a(s.number),s.highestNumber=a(s.highestNumber),e=0;e<10;e++)s.compressors[e]=a(s.compressors[e]);for(s.exponents=a(s.exponents),s.matter=a(s.matter),e=0;e<3;e++)s.matterUpgrades[e]=a(s.matterUpgrades[e])}();const r=Date.now()-s.lastTick;t&&console.log(r),s.offlineProg&&R(r)}function j(e=!1){c?e&&n.notify("Save failed, attempted to save a broken game","error"):(localStorage.setItem(t?"TheNumberLineDevSave-v"+o:"TheNumberLineSave",btoa(JSON.stringify(s))),e&&n.notify("Game saved","success"))}function M(){k(),null!==localStorage.getItem(t?"TheNumberLineDevSave-v"+o:"TheNumberLineSave")&&A(JSON.parse(atob(localStorage.getItem(t?"TheNumberLineDevSave-v"+o:"TheNumberLineSave")))),setInterval(()=>R(Date.now()-s.lastTick)),setInterval(()=>j(),5e3)}function P(e){const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}const H=r.createApp({data:()=>W}),W={Vue:r,$:n,D:a,VERSION:o,DEBUG:t,speed:1,game:s,newGame:u,UPGRADE_COSTS:i,CHALLENGE_GOALS:l,MATTER_UPGRADE_COSTS:d,tabs:m,NaNerror:c,NaNalert:p,checkNaNs:f,timePlayed:g,getNumberRate:b,getCompressorBase:v,getCompressorScaling:h,getCompressCost:y,canCompress:N,getTotalCompressors:S,getExponentGain:C,getNextExponent:function(e=s.number){return C(e).add(1).mul(10).pow(12-2*s.chalComp.includes(2))},canUpgrade:w,inChal:x,getMatterGain:T,getMatterEffect:E,getMatterUpgradeCost:D,format:L,formatTime:function(e,t=0){return(e=a(e)).isNaN()?(p(),"NaN seconds"):e.eq(1/0)?"forever":e.lt(60)?L(e,t)+" seconds":e.lt(3600)?L(e.div(60).floor())+" minutes "+L(e.sub(e.div(60).floor().mul(60)),t)+" seconds":e.lt(86400)?L(e.div(3600).floor())+" hours "+L(e.div(60).floor().sub(e.div(3600).floor().mul(60)))+" minutes "+L(e.sub(e.div(60).floor().mul(60)),t)+" seconds":e.lt(31536e3)?L(e.div(86400).floor())+" days "+L(e.div(3600).floor().sub(e.div(86400).floor().mul(24)))+" hours "+L(e.div(60).floor().sub(e.div(3600).floor().mul(60)))+" minutes":e.lt(31536e6)?L(e.div(31536e3).floor())+" years "+L(e.div(86400).floor().sub(e.div(31536e3).floor().mul(365)))+" days":L(e.div(31536e3))+" years"},onOff:function(e){return e?"ON":"OFF"},enableDisable:function(e){return e?"Disable":"Enable"},buyMax:O,resetCompressors:U,compress:G,exponentiate:function(){s.challenge>0?(!s.chalComp.includes(s.challenge)&&s.number.gte(l[s.challenge-1])&&s.chalComp.push(s.challenge),s.challenge=0,U()):s.number.gte(1e12)&&(s.expUnlocked=!0,s.exponents=s.exponents.add(C()),U())},upgrade:function(e){w(e)&&(e%4>0&&(s.exponents=s.exponents.sub(i[e-1])),s.upgrades.push(e))},enableAutobuyers:function(){for(let e=0;e<10;e++)s.autobuyers[e]=!0},disableAutobuyers:function(){for(let e=0;e<10;e++)s.autobuyers[e]=!1},enterChal:function(e){!s.upgrades.includes(4)||0!=s.challenge||s.chalConf&&!confirm("Entering a challenge will perform an Exponent reset. You will need to reach the required number under certain restrictions to complete the challenge.")||(s.expOnChal&&(s.exponents=s.exponents.add(C())),U(),s.challenge=e)},matterUpgrade:function(e){s.matter.gte(D(e))&&(s.matter=s.matter.sub(D(e)),s.matterUpgrades[e]=s.matterUpgrades[e].add(1))},loop:I,simulateTime:R,reset:k,loadGame:A,save:j,load:M,copyStringToClipboard:P,importSave:function(){try{const e=prompt("Copy-paste your save. WARNING: WILL OVERWRITE YOUR SAVE");A(JSON.parse(atob(e))),j()}catch(e){t&&console.log(e)}},exportSave:function(){P(btoa(JSON.stringify(s))),n.notify("Copied to clipboard","success"),t&&n.notify("Warning! This is a development save. You will not be able to import this save into the main game.","warn")},hardReset:function(){"reset"===prompt("Are you sure you want to reset your game? This cannot be undone! Type “reset” without quotation marks to reset your game.")&&(localStorage.removeItem(t?"TheNumberLineDevSave-v"+o:"TheNumberLineSave"),location.reload())},app:H};W.dev=W,t&&(e.dev=W,e.app=H),M(),Object.defineProperty(e,"DEBUG",{value:t}),Object.defineProperty(e,"VERSION",{value:o}),H.mount("#app"),document.getElementById("app").style.display=""}(this);

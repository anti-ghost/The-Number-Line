!function(e){"use strict";if("aHR0cHM6Ly9hbnRpLWdob3N0LmdpdGh1Yi5pbw=="!=btoa(location.origin)&&"aHR0cHM6Ly9yYXcuZ2l0aGFjay5jb20="!=btoa(location.origin)&&"aHR0cHM6Ly9yYXdjZG4uZ2l0aGFjay5jb20="!=btoa(location.origin))return void(document.getElementById("fake").style.display="");const o=!1,t="1.1.0",n=e.Vue,r=e.$,s=e.Decimal,a=n.reactive({}),u={debug:o,version:t,timeStarted:Date.now(),lastTick:Date.now(),offlineProg:!0,number:s(0),highestNumber:s(0),compressors:[s(0),s(0),s(0),s(0),s(0),s(0),s(0),s(0),s(0),s(0)],expUnlocked:!1,exponents:s(0),upgrades:[],autobuyers:[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],challenge:0,chalComp:[],chalConf:!0,expOnChal:!0},i=[s(1),s(2),s(3),s(10),s(20),s(50),s(500)],l=[s(1e12),s(1e20)],c=n.reactive({tab:0,expSubtab:0});let d=!1;function m(){d=!0,R(btoa(JSON.stringify(a))),alert("We have detected a NaN in your save! We have exported it to your clipboard (although it might be broken). Please report this save to the developers of The Number Line, so they can look into it.")}function p(e=a){for(const o in e){if("object"==typeof e[o]&&e[o]!==e&&p(e[o]))return!0;if(Number.isNaN(e[o]))return!0}return!1}function f(){return Date.now()-a.timeStarted}function b(e=1){let o=s.pow(g(),a.compressors.reduce((e,o)=>e.add(o)));return!S(2)&&a.upgrades.includes(1)&&(o=o.mul(a.compressors.reduce((e,o)=>e.add(o)).add(1))),a.upgrades.includes(3)&&(o=o.mul(a.exponents.add(1).sqrt())),a.upgrades.includes(6)&&(o=o.mul(a.number.add(10).log10())),a.upgrades.includes(7)&&(o=o.mul(s.pow(f()/1e3,.2))),o.mul(e)}function g(){let e=S(1)?s(4):s(2);return!S(2)&&a.upgrades.includes(5)&&(e=e.mul(1.1)),e}function h(e){let o=a.compressors[e-1].add(1).mul(e);return a.chalComp.includes(1)&&(o=o.mul(.9)),S(1)&&(o=o.add(12)),o.gt(12)&&(o=s.pow10(o.div(12).sub(1)).mul(12).div(s.ln(10)).add(12).sub(s.div(12,s.ln(10)))),S(1)&&(o=o.sub(12)),s.pow10(o)}function v(e){return a.number.gte(h(e))}function y(e=a.number){return e.root(12-2*a.chalComp.includes(2)).div(10).floor()}function N(e){return(1==e||a.upgrades.includes(e-2))&&a.exponents.gte(i[e-1])}function S(e){return a.challenge==e}function C(e,o=0){if((e=s(e)).isNaN())return m(),"NaN";if(-1==e.sign)return"-"+C(e.neg());if(e.eq(1/0))return"Infinity";if(0==e.sign)return"0";if(e.lt(1e3))return e.toNumber().toFixed(o);if(e.lt(1e6))return e.toNumber().toFixed(0);if(e.lt("e1e6")){let o=e.e,t=e.m;return"10.000"===C(t,3)&&(t=1,o++),C(t,3)+"e"+C(o)}return e.lt(s.tetrate(10,6))?"e"+C(e.log10()):"10^^"+C(e.slog())}function x(e){if(!S(1)&&a.number.lt(1e12**(1+a.chalComp.includes(1)/9))){const o=s.affordGeometricSeries(a.number,10**(e/(1+a.chalComp.includes(1)/9)),10**(e/(1+a.chalComp.includes(1)/9)),a.compressors[e-1]),t=s.sumGeometricSeries(o,10**(e/(1+a.chalComp.includes(1)/9)),10**(e/(1+a.chalComp.includes(1)/9)),a.compressors[e-1]);a.compressors[e-1]=a.compressors[e-1].add(o),a.number=a.number.sub(t)}else for(;v(e);)w(e)}function T(){a.number=s(0),a.compressors=[s(0),s(0),s(0),s(0),s(0),s(0),s(0),s(0),s(0),s(0)]}function w(e){v(e)&&(a.number=a.number.sub(h(e)),a.compressors[e-1]=a.compressors[e-1].add(1))}function L(e){if(!d&&p()&&m(),!d&&(a.number=a.number.add(b(e)),a.number.gt(a.highestNumber)&&(a.highestNumber=a.number),a.upgrades.includes(2)))for(let e=0;e<10;e++)a.autobuyers[e]&&x(e+1)}function E(e){if(!d){a.debug=o,a.version=t,a.lastTick=Date.now(),o&&(e*=A.speed);for(let o=0;o<10;o++)L(e/1e4)}}function O(e=u){for(const o in e)a[o]=e[o]}function D(e){if(e.debug&&!o)return void r.notify("Import failed, attempted to load development save into the main game.","error");O();for(const o in e)a[o]=e[o];a.debug=o,a.version=t,function(){a.number=s(a.number),a.highestNumber=s(a.highestNumber);for(let e=0;e<10;e++)a.compressors[e]=s(a.compressors[e]);a.exponents=s(a.exponents)}();const n=Date.now()-a.lastTick;console.log(n),a.offlineProg&&E(n)}function G(e=!1){d?e&&r.notify("Save failed, attempted to save a broken game","error"):(localStorage.setItem(o?"TheNumberLineDevSave-v"+t:"TheNumberLineSave",btoa(JSON.stringify(a))),e&&r.notify("Game saved","success"))}function I(){O(),null!==localStorage.getItem(o?"TheNumberLineDevSave-v"+t:"TheNumberLineSave")&&D(JSON.parse(atob(localStorage.getItem(o?"TheNumberLineDevSave-v"+t:"TheNumberLineSave")))),setInterval(()=>E(Date.now()-a.lastTick),0),setInterval(()=>G(),5e3)}function R(e){const o=document.createElement("textarea");o.value=e,o.setAttribute("readonly",""),o.style.position="absolute",o.style.left="-9999px",document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)}const k=n.createApp({data:()=>A}),A={$:r,D:s,VERSION:t,DEBUG:o,speed:1,game:a,newGame:u,UPGRADE_COSTS:i,CHALLENGE_GOALS:l,tabs:c,NaNerror:d,NaNalert:m,checkNaNs:p,timePlayed:f,getNumberRate:b,getCompressorBase:g,getCompressCost:h,canCompress:v,getExponentGain:y,getNextExponent:function(e=a.number){return y(e).add(1).mul(10).pow(12-2*a.chalComp.includes(2))},canUpgrade:N,inChal:S,format:C,formatTime:function(e,o=0){return(e=s(e)).isNaN()?(m(),"NaN seconds"):e.eq(1/0)?"forever":e.lt(60)?C(e,o)+" seconds":e.lt(3600)?C(e.div(60).floor())+" minutes "+C(e.sub(e.div(60).floor().mul(60)),o)+" seconds":e.lt(86400)?C(e.div(3600).floor())+" hours "+C(e.div(60).floor().sub(e.div(3600).floor().mul(60)))+" minutes "+C(e.sub(e.div(60).floor().mul(60)),o)+" seconds":e.lt(31536e3)?C(e.div(86400).floor())+" days "+C(e.div(3600).floor().sub(e.div(86400).floor().mul(24)))+" hours "+C(e.div(60).floor().sub(e.div(3600).floor().mul(60)))+" minutes":e.lt(31536e6)?C(e.div(31536e3).floor())+" years "+C(e.div(86400).floor().sub(e.div(31536e3).floor().mul(365)))+" days":C(e.div(31536e3))+" years"},onOff:function(e){return e?"ON":"OFF"},enableDisable:function(e){return e?"Disable":"Enable"},buyMax:x,resetCompressors:T,compress:w,exponentiate:function(){a.challenge>0?(!a.chalComp.includes(a.challenge)&&a.number.gte(l[a.challenge-1])&&a.chalComp.push(a.challenge),a.challenge=0,T()):a.number.gte(1e12)&&(a.expUnlocked=!0,a.exponents=a.exponents.add(y()),T())},upgrade:function(e){N(e)&&(e%4>0&&(a.exponents=a.exponents.sub(i[e-1])),a.upgrades.push(e))},enableAutobuyers:function(){for(let e=0;e<10;e++)a.autobuyers[e]=!0},disableAutobuyers:function(){for(let e=0;e<10;e++)a.autobuyers[e]=!1},enterChal:function(e){!a.upgrades.includes(4)||0!=a.challenge||a.chalConf&&!confirm("Entering a challenge will perform an Exponent reset. You will need to reach the required number under certain restrictions to complete the challenge.")||(a.expOnChal&&(a.exponents=a.exponents.add(y())),T(),a.challenge=e)},loop:L,simulateTime:E,reset:O,loadGame:D,save:G,load:I,copyStringToClipboard:R,importSave:function(){try{const e=prompt("Copy-paste your save. WARNING: WILL OVERWRITE YOUR SAVE");D(JSON.parse(atob(e))),G()}catch(e){o&&console.log(e)}},exportSave:function(){R(btoa(JSON.stringify(a))),r.notify("Copied to clipboard","success"),o&&r.notify("Warning! This is a development save. You will not be able to import this save into the main game.","warn")},hardReset:function(){"reset"===prompt("Are you sure you want to reset your game? This cannot be undone! Type “reset” without quotation marks to reset your game.")&&(localStorage.removeItem(o?"TheNumberLineDevSave-v"+t:"TheNumberLineSave"),location.reload())},app:k};o&&(e.dev=A,e.app=k),I(),Object.defineProperty(e,"DEBUG",{value:o}),Object.defineProperty(e,"VERSION",{value:t}),k.mount("#app"),document.getElementById("app").style.display=""}(this);
